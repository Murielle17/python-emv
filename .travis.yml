dist: xenial
language: python
python:
  - '3.5'
  - '3.6'
  - '3.7'
jobs:
  include:
    - stage: lint
      python: 3.7
      install: pip install black
      script: black --check .
    - stage: test
      install: 
        - pip install pytest unittest2
        - python ./setup.py develop
      script: 
        - python3 -m pytest
      addons:
        apt:
          packages:
            - build-essential
            - swig
            - libpcsclite-dev
